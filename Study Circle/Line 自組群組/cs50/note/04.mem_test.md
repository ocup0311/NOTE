## # 總結：

- mac (mach-O)

  - 可試試用`$ otool -l <filename>`來查詢
  - `__TEXT`：程式碼。16384 的倍數。
  - `__DATA`
  - `__OBJC`
  - `others`
  - `dec`
  - `hex`

- sandbox (Linux?)

  - `text`：程式碼。只要 code 多一個字，就會增加。
  - `data`
  - `bss`
  - `dec`
  - `hex`
  - `filename`

## # 測試：

- 1. 只有 return 0;

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4294983680      4295000064      100008000

   text    data     bss     dec     hex filename
 206932   13136 8983096 9203164  8c6ddc mm
```

- 2. 刪除 return 0;

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{

}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4294983680      4295000064      100008000

   text    data     bss     dec     hex filename
 206932   13136 8983096 9203164  8c6ddc mm
```

- 3. 刪除空白行

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4294983680      4295000064      100008000

   text    data     bss     dec     hex filename
 206932   13136 8983096 9203164  8c6ddc mm
```

- 4. 增加 printf("\n");

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  printf("\n");
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207030   13144 8983096 9203270  8c6e46 mm
```

- 5. 改為 printf("aaa\n");

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  printf("aaa\n");
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207035   13144 8983096 9203275  8c6e4b mm
```

- 6. printf("%s","aaa\n");

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  printf("%s","aaa\n");
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207051   13144 8983096 9203291  8c6e5b mm
```

- 7. 把 printf 的內容定義在一個變數

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  char *s = "aaa\n";
  printf("%s",s);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207051   13144 8983096 9203291  8c6e5b mm
```

- 8. 加長 string

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  char *s = "aaabbbffff\n";
  printf("%s",s);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207058   13144 8983096 9203298  8c6e62 mm
```

- 9. 換另一種方式定義 string

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  char s[12] = "aaabbbffff\n";
  printf("%s",s);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207074   13144 8983096 9203314  8c6e72 mm
```

- 10. 變數改成 int

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  int i = 100;
  printf("%i",i);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207049   13144 8983096 9203289  8c6e59 mm
```

- 11. 增加 include

```c
#include <stdio.h>
#include <cs50.h>
#include <getopt.h>

int main(void)
{
  int i = 100;
  printf("%i",i);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207049   13144 8983096 9203289  8c6e59 mm
```

- 12. 增加全域變數

```c
#include <stdio.h>
#include <cs50.h>
#include <getopt.h>

int a =100;

int main(void)
{
  int i = 100;
  printf("%i",i);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   16384   0       4295000064      4295032832      100010000

   text    data     bss     dec     hex filename
 207049   13148 8983096 9203293  8c6e5d mm
```

- 13. 全域變數改為未初始化

```c
#include <stdio.h>
#include <cs50.h>
#include <getopt.h>

int a;

int main(void)
{
  int i = 100;
  printf("%i",i);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   16384   0       4295000064      4295032832      100010000

   text    data     bss     dec     hex filename
 207049   13144 8983096 9203289  8c6e59 mm
```

- 14. 全域變數改為 const

```c
#include <stdio.h>
#include <cs50.h>
#include <getopt.h>

const int a =100;

int main(void)
{
  int i = 100;
  printf("%i",i);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207055   13144 8983096 9203295  8c6e5f mm
```

- 15. 變數改為 static

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  static int i = 100;
  printf("%i",i);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   16384   0       4295000064      4295032832      100010000

   text    data     bss     dec     hex filename
 207049   13148 8983096 9203293  8c6e5d mm
```

- 16. 多用一次 printf

```c
#include <stdio.h>
#include <cs50.h>

int main(void)
{
  static int i = 100;
  printf("%i",i);
  printf("abcd");
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   16384   0       4295000064      4295032832      100010000

   text    data     bss     dec     hex filename
 207070   13148 8983096 9203314  8c6e72 mm
```

- 17. 多用 round()

```c
#include <stdio.h>
#include <cs50.h>
#include <math.h>

int main(void)
{
  int i = round(100);
  printf("%i",i);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207326   13184 8983096 9203606  8c6f96 mm
```

- 18. 只用 round() 沒有 printf()

```c
#include <stdio.h>
#include <cs50.h>
#include <math.h>

int main(void)
{
  int i = round(100);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4294983680      4295000064      100008000

   text    data     bss     dec     hex filename
 207228   13176 8983096 9203500  8c6f2c mm
```

- 19. 只用 get_int()

```c
#include <stdio.h>
#include <cs50.h>
#include <math.h>

int main(void)
{
  int i = get_int("100:");
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207043   13144 8983096 9203283  8c6e53 mm
```

- 20. 沒用 get_int()，但編譯時有加 -lcs50

```c
#include <stdio.h>
#include <cs50.h>
#include <math.h>

int main(void)
{
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4294983680      4295000064      100008000

   text    data     bss     dec     hex filename
 206932   13136 8983096 9203164  8c6ddc mm
```

- 21. 只用 fork()

```c
#include <stdio.h>
#include <cs50.h>
#include <unistd.h>
#include <math.h>

int main(void)
{
  fork();
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207035   13144 8983096 9203275  8c6e4b mm
```

- 22. 用了 printf() + fork()

```c
#include <stdio.h>
#include <cs50.h>
#include <unistd.h>
#include <math.h>

int main(void)
{
  fork();
  printf("\n");
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207117   13152 8983096 9203365  8c6ea5 mm
```

- 23. 刪除其他 include，只保留 fork() 使用

```c
#include <unistd.h>

int main(void)
{
  fork();
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207035   13144 8983096 9203275  8c6e4b mm
```

- 24. 使用 malloc()

```c
#include <stdlib.h>

int main(void)
{
  int *buf = (int*) malloc(sizeof(int) * 100);
  free(buf);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207124   13152 8983096 9203372  8c6eac mm
```

- 25. 使用 malloc()，但不使用 free()

```c
#include <stdlib.h>

int main(void)
{
  int *buf = (int*) malloc(sizeof(int) * 100);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207037   13144 8983096 9203277  8c6e4d mm
```

- 26. 用 array 方式定義

```c
#include <stdlib.h>

int main(void)
{
  int buf[100];

  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 206948   13136 8983096 9203180  8c6dec mm
```

- 27. 使用 malloc()，並初始化第一項

```c
#include <stdlib.h>

int main(void)
{
  int *buf = (int*) malloc(sizeof(int) * 100);
  buf[0] = 100;
  free(buf);
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207204   13184 8983096 9203484  8c6f1c mm
```

- 28. 新增一個 fn

```c
#include <stdio.h>

void fn()
{
  return;
}

int main(void)
{
  fn();
  printf("");
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207102   13144 8983096 9203342  8c6e8e mm
```

- 29. fn 新增一個 int 參數

```c
#include <stdio.h>

void fn(int x)
{
  printf("%i", x);
  return;
}

int main(void)
{
  fn(1);
  printf("");
  return 0;
}
```

```sh
__TEXT  __DATA  __OBJC  others  dec     hex
16384   0       0       4295000064      4295016448      10000c000

   text    data     bss     dec     hex filename
 207137   13144 8983096 9203377  8c6eb1 mm
```
